<%= render 'layouts/flash_messages' %>
<div class="container">
  <div class="row mt-3">
    <h3 class="sub-title">ジャンル一覧</h3>
  </div>
  <div class="row mt-3">
    <%= form_with model: @genre, url: admin_genres_path, method: :post do |f| %>
    <%= render "public/shared/error_messages", resource: @genre %>
      <table>
        <tbody>
          <tr>
            <td>ジャンル名</td>
            <td><%= f.text_field :name %></td>
            <td><%= f.submit "登録", class: "btn default-btn bg-success p-1 w-auto" %></td>
          </tr>
        </tbody>
      </table>
    <% end %>
  </div>
  <div class="row">
    <div class="col-12 mt-2">
      <div>
        <% @genres.each do |genre| %>
          <%= link_to edit_admin_genre_path(genre), class: "default-btn bg-warning p-2 w-auto text-dark my-1" do %>
            <%= genre.name %>(<%= genre.artists.count %>)
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>